"use strict";if(void 0===woostifyEvent)var woostifyEvent={};var productMetaSku=document.querySelector(".elementor-widget-woostify-product-meta .sku");function productVariation(t,e){var r=document.querySelectorAll(t);if(r.length){var o=r[0].getAttribute("data-pid"),i=e||'form.variations_form[data-product_id="'+o+'"]';jQuery(document.body).on("found_variation",i,function(e,r){var o=document.querySelectorAll(t);if(o.length&&document.querySelector(i)){var a=r.image.src,n=r.image.full_src,c=r.is_in_stock;r.image.src_h,a&&n&&o.forEach(function(t,e){var o=t.querySelector(woostify_product_images_slider_options.thumb.container);o&&o.children.length&&o.children[0].click();var i=null==o?t.querySelector(".image-item"):t.querySelector(".image-item.is-selected");if(null!=i){var u=!!i&&i.querySelector("img"),s=(u&&u.getAttribute("src"),u?u.getAttribute("srcset"):""),l=i.querySelector("a"),d=(l&&l.getAttribute("href"),t.querySelector(".thumbnail-item")),f=!!d&&d.querySelector("img");f&&f.getAttribute("src"),r.max_qty&&(woostify_woocommerce_general.qty_max_warning=woostify_woocommerce_general.qty_max_warning_variation.replace("%s",r.max_qty)),document.querySelectorAll(".single_add_to_cart_button").forEach(t=>t.value=r.variation_id);var y=document.querySelectorAll(".elementor-widget-woostify-product-meta .sku"),p=document.querySelectorAll(".wpm_gtin_code_wrapper .wpm_pgw_code");if(y&&y.forEach(function(t){t.innerHTML=r.sku}),p&&(p.forEach(function(t){t.innerHTML=r.sku}),r.wpm_pgw_code&&(wpmGtinCodeWrapper.innerHTML=r.wpm_pgw_code)),l&&l.setAttribute("href",n),u&&a){i.classList.add("image-loading");var g=i.closest(".flickity-viewport"),m=new Image;m.onload=function(){i.classList.remove("image-loading"),setTimeout(function(){null!=g&&(g.style.height=u.height+"px")},50)},m.src=a,u.setAttribute("src",a),s&&u.setAttribute("srcset",r.image.srcset)}f&&f.setAttribute("src",r.image.thumb_src),"function"==typeof easyZoomHandle&&easyZoomHandle();var v=t,w=!!v&&v.querySelector(".product-images"),q=!!w&&w.querySelector(".woostify-out-of-stock-label"),S=!!w&&w.querySelector(".woostify-tag-on-sale");if(c)r.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout(function(){woostifyStockQuantityProgressBar()},200),q&&q.remove(),S&&"undefined"!=typeof woostify_woocommerce_variable_product_data&&woostify_woocommerce_variable_product_data.sale_tag_percent&&r.display_price!=r.display_regular_price&&(S.innerHTML="-"+Math.round((r.display_regular_price-r.display_price)/r.display_regular_price*100)+"%");else if("undefined"!=typeof woostify_woocommerce_variable_product_data){var h='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";q||w.insertAdjacentHTML("beforeend",h)}}})}}),jQuery(".reset_variations").on("click",function(t){if(!woostifyEvent.productVariationReady){t.preventDefault(),woostify_woocommerce_general.qty_max_warning=woostify_woocommerce_general.qty_max_warning_default;var e=document.querySelectorAll(".elementor-widget-woostify-product-meta .sku"),r=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");if(e&&e.forEach(function(t){t.innerHTML=woostifyEvent.productMetaSkuDefault}),r&&r.forEach(function(t){t.innerHTML=woostifyEvent.productMetaSkuDefault}),console.log(image),image){imageWrapper.classList.add("image-loading");var o=new Image;o.onload=function(){imageWrapper.classList.remove("image-loading")},o.src=imageSrc,image.setAttribute("src",imageSrc),imageSrcset&&image.setAttribute("srcset",imageSrcset)}thumbSrc&&thumbImg.setAttribute("src",thumbSrc),photoSwipeSrc&&photoSwipe.setAttribute("href",photoSwipeSrc),"function"==typeof easyZoomHandle&&easyZoomHandle();var i=document.querySelector(".woostify-variation-swatches");i&&i.querySelectorAll(".swatch").forEach(function(t,e){t.classList.remove("selected")})}}),woostifyEvent.productVariationReady=1}}woostifyEvent.productMetaSkuDefault=productMetaSku?productMetaSku.innerHTML:"",document.addEventListener("DOMContentLoaded",function(){woostifyEvent.productVariationReady||(productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){woostifyEvent.productVariationReady||window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(){productVariation(".product-gallery")})}))});