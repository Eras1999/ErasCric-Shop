{"version":3,"file":"wc-ppcp-funnelkit-upsell.js","mappings":"mBACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDR,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFf,EAAyBM,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,GAAO,G,KCL9D,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQnB,EAAKoB,GACpE,IACE,IAAIC,EAAON,EAAIf,GAAKoB,GAChBP,EAAQQ,EAAKR,KAInB,CAHE,MAAOS,GAEP,YADAL,EAAOK,EAET,CAEID,EAAKE,KACPP,EAAQH,GAERW,QAAQR,QAAQH,GAAOY,KAAKP,EAAOC,EAEvC,C,OCdA,MAAM,EAA+BO,OAA2B,mB,aCAhE,MAAM,EAA+BA,OAAe,O,aCApD,MAAM,EAA+BA,OAAe,OAAS,MCG7D,IAAIC,EAEJC,IAAEC,UAAUC,GAAG,qBAAf,eJW0CC,EIX1C,GJW0CA,EIX1C,UAAqC,WAAOC,EAAGC,GAAV,yEACjCN,EAASM,EAET,UAAIP,cAAJ,iBAAI,EAAQQ,kBAAZ,OAAI,EAAoBC,iBACpBT,OAAOS,eAAiBT,OAAOQ,WAAWC,gBAJb,0CJY5B,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIf,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMgB,EAAGS,MAAMJ,EAAME,GAEzB,SAASpB,EAAML,GACbC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQN,EAClE,CAEA,SAASM,EAAOsB,GACd3B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASsB,EACnE,CAEAvB,OAAMwB,EACR,GACF,GI5BF,yDAQAd,IAAEC,UAAUC,GAAG,kBAAkB,SAACE,EAAGC,IACjCN,EAASM,GACFU,oBAAqB,EAC5BC,IAAcnB,MAAK,YAAgB,IAAdoB,EAAc,EAAdA,SACjBnB,OAAOoB,SAAWD,CACrB,IAAEE,OAAM,SAAAzB,GAAS,QACdK,EAAOqB,KAAKC,KAAK,CAAC,eAAQf,kBAAR,iBAAQ,EAAYgB,gBAApB,aAAQ,EAAsBC,sBAAuB,KAAQ,YAC/EzB,OAAOoB,SAAWZ,WAAWkB,kBAChC,GACJ,IAED,IAAMR,EAAc,WAChB,OAAO,IAAIpB,SAAQ,SAACR,EAASC,GACzBW,IAAAA,KAAO,CACHyB,OAAQ,OACRC,KAAKC,EAAAA,EAAAA,cAAa,0BAClBC,KAAM7B,EAAO8B,sBACdlC,MAAK,SAAAmC,GAEJ1C,EAAQ0C,EACX,IAAEC,MAAK,SAAArC,GACJL,EAAOK,EACV,GACJ,GACJ,G","sources":["webpack://wcPPCP/webpack/bootstrap","webpack://wcPPCP/webpack/runtime/compat get default export","webpack://wcPPCP/webpack/runtime/define property getters","webpack://wcPPCP/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP/webpack/runtime/make namespace object","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wcPPCP/external window \"regeneratorRuntime\"","webpack://wcPPCP/external window \"jQuery\"","webpack://wcPPCP/external window [\"wcPPCP\",\"utils\"]","webpack://wcPPCP/./packages/funnelkit/assets/js/upsell/paypal.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"regeneratorRuntime\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wcPPCP\"][\"utils\"];","import $ from 'jquery';\nimport {getRestRoute} from '@ppcp/utils';\n\nlet bucket;\n\n$(document).on('wfocuBucketCreated', async (e, Bucket) => {\n    bucket = Bucket;\n\n    if (window?.wfocu_vars?.wcPPCPSettings) {\n        window.wcPPCPSettings = window.wfocu_vars.wcPPCPSettings\n    }\n});\n\n$(document).on('wfocu_external', (e, Bucket) => {\n    bucket = Bucket;\n    bucket.inOfferTransaction = true;\n    createOrder().then(({redirect}) => {\n        window.location = redirect;\n    }).catch(error => {\n        bucket.swal.show({'text': wfocu_vars?.messages?.offer_msg_pop_failure, 'type': 'warning'});\n        window.location = wfocu_vars.order_received_url;\n    })\n});\n\nconst createOrder = () => {\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            method: 'post',\n            url: getRestRoute('funnelkit/upsell/order'),\n            data: bucket.getBucketSendData()\n        }).done(response => {\n            // redirect to the PayPal URL\n            resolve(response);\n        }).fail(error => {\n            reject(error);\n        })\n    })\n}\n\n\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","window","bucket","$","document","on","fn","e","Bucket","wfocu_vars","wcPPCPSettings","self","this","args","arguments","apply","err","undefined","inOfferTransaction","createOrder","redirect","location","catch","swal","show","messages","offer_msg_pop_failure","order_received_url","method","url","getRestRoute","data","getBucketSendData","response","fail"],"sourceRoot":""}